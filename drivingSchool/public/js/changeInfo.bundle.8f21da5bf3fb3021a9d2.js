webpackJsonp([12],{5:function(module,exports,__webpack_require__){eval('/* WEBPACK VAR INJECTION */(function($) {\ufeffconst act = sessionStorage.getItem("account");\r\nconst isCoach = sessionStorage.getItem("isCoach") === "true";\r\n\r\nconst jQName = $("#name");\r\nconst tipName = $("#tipName");\r\n\r\nconst address = $("#address");\r\nconst description = $("#description");\r\n\r\nconst tipAddress = $("#tipAddress");\r\nconst tipDescription = $("#tipDescription");\r\n\r\nconst btnChangeInfo = $("#changeInfo");\r\n\r\nconst tip = $("#tip");\r\n\r\nconst user = {\r\n    act,\r\n    isCoach,\r\n    name: "",\r\n    address: "",\r\n    description: "",\r\n    singleName: false\r\n};\r\n\r\nfunction showTip(info) {\r\n    tip.text(info);\r\n    info ? tip.fadeIn(500) : tip.fadeOut("slow");\r\n}\r\n$(() => {\r\n    $("#changeInfoWrap").animate({\r\n        opacity: "1",\r\n        padding: "50px 100px 0px 100px"\r\n    }, 500);\r\n    $("input").val("");\r\n});\r\n\r\n$("input").keypress(e => {\r\n    if (e.keyCode === 32) {\r\n        return false;\r\n    }\r\n});\r\n\r\nfunction hasInfo(info, table) {\r\n    let returnValue = false;\r\n    $.ajax({\r\n        url: "../../BLL/ajax/Account.ashx",\r\n        async: false,\r\n        type: "POST",\r\n        data: {\r\n            "key":"hasInfo",\r\n            "table": table,\r\n            "type": info,\r\n            "name": user.name\r\n        },\r\n        success: result => {\r\n            returnValue = result.toLowerCase();\r\n        },\r\n        error: result => {\r\n            returnValue = false;\r\n        }\r\n    });\r\n\r\n\r\n    return returnValue === "true";\r\n}\r\n\r\njQName.blur(() => {\r\n    user.name = $.trim(jQName.val());\r\n    if (user.name !== "" && !user.singleName) {\r\n        tipName.hide("slow");\r\n        if (hasInfo("name", "student") || hasInfo("name", "coach")) {\r\n            user.singleName = false;\r\n            showTip("昵称已经存在！");\r\n        } else {\r\n            user.singleName = true;\r\n            showTip("");\r\n        }\r\n    } else {\r\n        user.singleName = false;\r\n        showTip("");\r\n        if (user.name === "") {\r\n            tipName.show("slow");\r\n        }\r\n    }\r\n});\r\naddress.blur(() => {\r\n    user.address = $.trim(address.val());\r\n    if (user.address !== "") {\r\n        tipAddress.hide("slow");\r\n    } else {\r\n        if (user.address === "") {\r\n            tipAddress.show("slow");\r\n        }\r\n    }\r\n});\r\ndescription.blur(() => {\r\n    user.description = $.trim(description.val());\r\n    if (user.description !== "") {\r\n        tipDescription.hide("slow");\r\n    } else {\r\n        if (user.description === "") {\r\n            tipDescription.show("slow");\r\n        }\r\n    }\r\n});\r\n\r\n$(document).keydown(e => {\r\n    if (e.keyCode === 13) {\r\n        changeInfo();\r\n    }\r\n});\r\n\r\nbtnChangeInfo.click(changeInfo);\r\n\r\nfunction changeInfo() {\r\n    if (!allHaveContent(user)) {\r\n        showTip("不能有空值！");\r\n    } else if (!user.singleName) {\r\n        showTip("昵称已经存在！");\r\n    } else {\r\n        $.ajax({\r\n            url: "../../BLL/ajax/Account.ashx",\r\n            async: false,\r\n            type: "POST",\r\n            data: {\r\n                "key":"changeInfo",\r\n                "table": isCoach ? "coach" : "student",\r\n                "account": user.act,\r\n                "name": user.name,\r\n                "address": user.address,\r\n                "description": user.description\r\n            },\r\n            success: result => {\r\n                if (result.toLowerCase() === "true") {\r\n                    showTip("修改成功！");\r\n                    setTimeout(() => location.href = `../${user.isCoach ? "coach/coach" : "student/student"}.html`, 800);\r\n                } else {\r\n                    showTip("因不可抗因素注册失败~");\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n\r\nfunction allHaveContent(object) {\r\n    for (let variable in object) {\r\n        if (object.hasOwnProperty(variable)) {\r\n            if (object[variable] === "") {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return true;\r\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9kcml2aW5nU2Nob29sL0JMTC9qcy9jaGFuZ2VJbmZvLmpzPzNjOTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7O0FBR0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELGlEQUFpRDtBQUM1RyxpQkFBaUI7QUFDakI7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyLvu79jb25zdCBhY3QgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiYWNjb3VudFwiKTtcclxuY29uc3QgaXNDb2FjaCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJpc0NvYWNoXCIpID09PSBcInRydWVcIjtcclxuXHJcbmNvbnN0IGpRTmFtZSA9ICQoXCIjbmFtZVwiKTtcclxuY29uc3QgdGlwTmFtZSA9ICQoXCIjdGlwTmFtZVwiKTtcclxuXHJcbmNvbnN0IGFkZHJlc3MgPSAkKFwiI2FkZHJlc3NcIik7XHJcbmNvbnN0IGRlc2NyaXB0aW9uID0gJChcIiNkZXNjcmlwdGlvblwiKTtcclxuXHJcbmNvbnN0IHRpcEFkZHJlc3MgPSAkKFwiI3RpcEFkZHJlc3NcIik7XHJcbmNvbnN0IHRpcERlc2NyaXB0aW9uID0gJChcIiN0aXBEZXNjcmlwdGlvblwiKTtcclxuXHJcbmNvbnN0IGJ0bkNoYW5nZUluZm8gPSAkKFwiI2NoYW5nZUluZm9cIik7XHJcblxyXG5jb25zdCB0aXAgPSAkKFwiI3RpcFwiKTtcclxuXHJcbmNvbnN0IHVzZXIgPSB7XHJcbiAgICBhY3QsXHJcbiAgICBpc0NvYWNoLFxyXG4gICAgbmFtZTogXCJcIixcclxuICAgIGFkZHJlc3M6IFwiXCIsXHJcbiAgICBkZXNjcmlwdGlvbjogXCJcIixcclxuICAgIHNpbmdsZU5hbWU6IGZhbHNlXHJcbn07XHJcblxyXG5mdW5jdGlvbiBzaG93VGlwKGluZm8pIHtcclxuICAgIHRpcC50ZXh0KGluZm8pO1xyXG4gICAgaW5mbyA/IHRpcC5mYWRlSW4oNTAwKSA6IHRpcC5mYWRlT3V0KFwic2xvd1wiKTtcclxufVxyXG4kKCgpID0+IHtcclxuICAgICQoXCIjY2hhbmdlSW5mb1dyYXBcIikuYW5pbWF0ZSh7XHJcbiAgICAgICAgb3BhY2l0eTogXCIxXCIsXHJcbiAgICAgICAgcGFkZGluZzogXCI1MHB4IDEwMHB4IDBweCAxMDBweFwiXHJcbiAgICB9LCA1MDApO1xyXG4gICAgJChcImlucHV0XCIpLnZhbChcIlwiKTtcclxufSk7XHJcblxyXG4kKFwiaW5wdXRcIikua2V5cHJlc3MoZSA9PiB7XHJcbiAgICBpZiAoZS5rZXlDb2RlID09PSAzMikge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufSk7XHJcblxyXG5mdW5jdGlvbiBoYXNJbmZvKGluZm8sIHRhYmxlKSB7XHJcbiAgICBsZXQgcmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuICAgICQuYWpheCh7XHJcbiAgICAgICAgdXJsOiBcIi4uLy4uL0JMTC9hamF4L0FjY291bnQuYXNoeFwiLFxyXG4gICAgICAgIGFzeW5jOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIFwia2V5XCI6XCJoYXNJbmZvXCIsXHJcbiAgICAgICAgICAgIFwidGFibGVcIjogdGFibGUsXHJcbiAgICAgICAgICAgIFwidHlwZVwiOiBpbmZvLFxyXG4gICAgICAgICAgICBcIm5hbWVcIjogdXNlci5uYW1lXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdWNjZXNzOiByZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHJlc3VsdC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3I6IHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgIHJldHVyblZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIHJldHVybiByZXR1cm5WYWx1ZSA9PT0gXCJ0cnVlXCI7XHJcbn1cclxuXHJcbmpRTmFtZS5ibHVyKCgpID0+IHtcclxuICAgIHVzZXIubmFtZSA9ICQudHJpbShqUU5hbWUudmFsKCkpO1xyXG4gICAgaWYgKHVzZXIubmFtZSAhPT0gXCJcIiAmJiAhdXNlci5zaW5nbGVOYW1lKSB7XHJcbiAgICAgICAgdGlwTmFtZS5oaWRlKFwic2xvd1wiKTtcclxuICAgICAgICBpZiAoaGFzSW5mbyhcIm5hbWVcIiwgXCJzdHVkZW50XCIpIHx8IGhhc0luZm8oXCJuYW1lXCIsIFwiY29hY2hcIikpIHtcclxuICAgICAgICAgICAgdXNlci5zaW5nbGVOYW1lID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHNob3dUaXAoXCLmmLXnp7Dlt7Lnu4/lrZjlnKjvvIFcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdXNlci5zaW5nbGVOYW1lID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2hvd1RpcChcIlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHVzZXIuc2luZ2xlTmFtZSA9IGZhbHNlO1xyXG4gICAgICAgIHNob3dUaXAoXCJcIik7XHJcbiAgICAgICAgaWYgKHVzZXIubmFtZSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICB0aXBOYW1lLnNob3coXCJzbG93XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcbmFkZHJlc3MuYmx1cigoKSA9PiB7XHJcbiAgICB1c2VyLmFkZHJlc3MgPSAkLnRyaW0oYWRkcmVzcy52YWwoKSk7XHJcbiAgICBpZiAodXNlci5hZGRyZXNzICE9PSBcIlwiKSB7XHJcbiAgICAgICAgdGlwQWRkcmVzcy5oaWRlKFwic2xvd1wiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKHVzZXIuYWRkcmVzcyA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICB0aXBBZGRyZXNzLnNob3coXCJzbG93XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcbmRlc2NyaXB0aW9uLmJsdXIoKCkgPT4ge1xyXG4gICAgdXNlci5kZXNjcmlwdGlvbiA9ICQudHJpbShkZXNjcmlwdGlvbi52YWwoKSk7XHJcbiAgICBpZiAodXNlci5kZXNjcmlwdGlvbiAhPT0gXCJcIikge1xyXG4gICAgICAgIHRpcERlc2NyaXB0aW9uLmhpZGUoXCJzbG93XCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAodXNlci5kZXNjcmlwdGlvbiA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICB0aXBEZXNjcmlwdGlvbi5zaG93KFwic2xvd1wiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuJChkb2N1bWVudCkua2V5ZG93bihlID0+IHtcclxuICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XHJcbiAgICAgICAgY2hhbmdlSW5mbygpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbmJ0bkNoYW5nZUluZm8uY2xpY2soY2hhbmdlSW5mbyk7XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VJbmZvKCkge1xyXG4gICAgaWYgKCFhbGxIYXZlQ29udGVudCh1c2VyKSkge1xyXG4gICAgICAgIHNob3dUaXAoXCLkuI3og73mnInnqbrlgLzvvIFcIik7XHJcbiAgICB9IGVsc2UgaWYgKCF1c2VyLnNpbmdsZU5hbWUpIHtcclxuICAgICAgICBzaG93VGlwKFwi5pi156ew5bey57uP5a2Y5Zyo77yBXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6IFwiLi4vLi4vQkxML2FqYXgvQWNjb3VudC5hc2h4XCIsXHJcbiAgICAgICAgICAgIGFzeW5jOiBmYWxzZSxcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIFwia2V5XCI6XCJjaGFuZ2VJbmZvXCIsXHJcbiAgICAgICAgICAgICAgICBcInRhYmxlXCI6IGlzQ29hY2ggPyBcImNvYWNoXCIgOiBcInN0dWRlbnRcIixcclxuICAgICAgICAgICAgICAgIFwiYWNjb3VudFwiOiB1c2VyLmFjdCxcclxuICAgICAgICAgICAgICAgIFwibmFtZVwiOiB1c2VyLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBcImFkZHJlc3NcIjogdXNlci5hZGRyZXNzLFxyXG4gICAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiB1c2VyLmRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnRvTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RpcChcIuS/ruaUueaIkOWKn++8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGxvY2F0aW9uLmhyZWYgPSBgLi4vJHt1c2VyLmlzQ29hY2ggPyBcImNvYWNoL2NvYWNoXCIgOiBcInN0dWRlbnQvc3R1ZGVudFwifS5odG1sYCwgODAwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RpcChcIuWboOS4jeWPr+aKl+WboOe0oOazqOWGjOWksei0pX5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBhbGxIYXZlQ29udGVudChvYmplY3QpIHtcclxuICAgIGZvciAobGV0IHZhcmlhYmxlIGluIG9iamVjdCkge1xyXG4gICAgICAgIGlmIChvYmplY3QuaGFzT3duUHJvcGVydHkodmFyaWFibGUpKSB7XHJcbiAgICAgICAgICAgIGlmIChvYmplY3RbdmFyaWFibGVdID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vZHJpdmluZ1NjaG9vbC9CTEwvanMvY2hhbmdlSW5mby5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDEyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n')}},[5]);